[General]
# > Ëä±Ê†∑Â≠ó‰ΩìÁîüÊàêÔºö https://qwerty.dev/fancy-font-generator/
# > Êú∫Âú∫ËΩ¨‰πâùêÑùêçùêÇùêéùêÉùêÑÔºö https://www.urlencoder.org

# General
http-listen = 0.0.0.0:8888
socks5-listen = 0.0.0.0:8889
external-controller-access = Cypic@0.0.0.0:6170

# Lateracy
internet-test-url = http://wifi.vivo.com.cn/generate_204
proxy-test-url = http://cp.cloudflare.com/generate_204
test-timeout = 3
ipv6 = true
ipv6-vif = auto
show-error-page-for-reject = true


# Advanced
loglevel = notify
exclude-simple-hostnames = true
use-default-policy-if-wifi-not-primary = false
force-http-engine-hosts = boxjs.com, boxjs.net

# DNS
hijack-dns = *:53
dns-server = 119.29.29.29, 223.5.5.5, system
read-etc-hosts = true
doh-skip-cert-verification = true
encrypted-dns-server = https://dns.alidns.com/dns-query
encrypted-dns-follow-outbound-mode = true

# Others
allow-wifi-access = false
//hide-vpn-icon = true
allow-hotspot-access = true
# network-framework = true
http-api = Cypic@0.0.0.0:2500
http-api-web-dashboard = true
all-hybrid = false
wifi-access-http-port = 1314
udp-priority = true
always-raw-tcp-hosts = www.google.com, 91.108.56.*, 91.108.4.*, 91.108.8.*, 91.108.16.*, 91.108.12.*, 149.154.16*, 149.154.17*, 91.108.20.*, 185.76.151.*, 91.105.192.*, 5.28.19*

[Proxy Group]
# > ËøôÊòØ‰∏Ä‰∏™finalËßÑÂàô Ê≤°ÊúâÂëΩ‰∏≠ÁöÑËøûÊé•‰ºöËµ∞‰ª•‰∏ãÁöÑÁ≠ñÁï•ÁªÑ
üè≥Ô∏è‚Äç‚ößÔ∏è = select, üêº Mainland, ùêÄùêÆùê≠ùê®ùê¶ùêöùê≠ùê¢ùêú
ùíèùíïùëπùëπùëπ = select,üêº Mainland

# > ËøôÊòØ‰Ω†ÁöÑÊú∫Âú∫ÈìæÊé•Â°´ÂÜôÁöÑÂú∞Êñπ Âú®policy_path=ÂêéÈù¢Á≤òË¥¥‰Ω†Ëá™Â∑±Êú∫Âú∫ÁöÑË®ÇÈñ±ÈÄ£ÁµêÔºà‰∏çË¶ÅÂú®ËøôÈáåÁ≤òË¥¥ Ë∞¢Ë∞¢Ôºâ
ùïãùïñùï©ùï†ùïü = select, policy-path=sublink
ùîΩùïùùï†ùï®ùïñùï£‚ÑÇùïùùï†ùï¶ùïï = select, policy-path=sublink

# > ‰ª•‰∏ãÊòØÁ≠ñÁï•ÁªÑ ÈúÄÂÖàÈÖçÁΩÆÂ•Ωsub-store‰ΩøÁî®
ùêÄùê•ùê•ùêíùêûùê´ùêØùêûùê´ = select, policy-path=https://sub.store/download/collection/Surge, update-interval=0, no-alert=0, hidden=0
ùêèùê´ùê®ùê±ùê≤ = select, ùêÄùêÆùê≠ùê®ùê¶ùêöùê≠ùê¢ùêú, ùêÖùêöùê•ùê•ùêõùêöùêúùê§, üá≠üá∞Hong Kong, üá®üá≥Taiwan, üá∏üá¨Singapore, üáØüáµJapan, üá∫üá∏United States, no-alert=0, hidden=1, include-all-proxies=0
ùêÄùêÆùê≠ùê®ùê¶ùêöùê≠ùê¢ùêú = url-test, policy-path=https://sub.store/download/collection/Surge, url=http://www.gstatic.com/generate_204, interval=600, tolerance=50
ùêÖùêöùê•ùê•ùêõùêöùêúùê§ = fallback, policy-path=https://sub.store/download/collection/Surge, url=http://www.gstatic.com/generate_204, interval=600, tolerance=50
üá≠üá∞Hong Kong = url-test, policy-path=https://sub.store/download/collection/Surge, policy-regex-filter=Ê∏Ø|üá≠üá∞|È¶ôÊ∏Ø|HK|Hong, interval=600, tolerance=50,update-interval=43200, no-alert=0, hidden=0, include-all-proxies=0
üá®üá≥Taiwan = url-test, policy-path=https://sub.store/download/collection/Surge, policy-regex-filter=Âè∞|üá®üá≥|Âè∞Êπæ|TW|Tai, interval=600, tolerance=50,update-interval=43200, no-alert=0, hidden=0, include-all-proxies=0
üáØüáµJapan = url-test, policy-path=https://sub.store/download/collection/Surge, policy-regex-filter=Êó•|üáØüáµ|Êó•Êú¨|JP|Japan, interval=600, tolerance=50,update-interval=43200, no-alert=0, hidden=0, include-all-proxies=0
üá∏üá¨Singapore = url-test, policy-path=https://sub.store/download/collection/Surge, policy-regex-filter=Âù°|üá∏üá¨|Êñ∞Âä†Âù°|ÁãÆÂüé|SG|Singapore, interval=600, tolerance=50,update-interval=43200, no-alert=0, hidden=0, include-all-proxies=0
üá∫üá∏United States = url-test, policy-path=https://sub.store/download/collection/Surge, policy-regex-filter=Áæé|üá∫üá∏|ÁæéÂõΩ|US|States|American, interval=600, tolerance=50,update-interval=43200, no-alert=0, hidden=0, include-all-proxies=0
üá∫üá∏Else = url-test, policy-path=https://sub.store/download/collection/Surge, interval=600, tolerance=50,update-interval=43200, no-alert=0, hidden=0, include-all-proxies=0
üêº Mainland = select, DIRECT, hidden=1
Ô£ø ùë®ùíëùíëùíçùíÜ = select, üêº Mainland, üá≠üá∞Hong Kong, üá®üá≥Taiwan, üá∏üá¨Singapore, üáØüáµJapan, üá∫üá∏United States
üìπ ùôÄùô¢ùôóùôÆ = select, üêº Mainland, üá≠üá∞Hong Kong
üé• ùë¥ùíÜùíÖùíäùíÇ = select, üá≠üá∞Hong Kong, üá®üá≥Taiwan, üá∏üá¨Singapore, üáØüáµJapan, üá∫üá∏United States
üíµ ùë∑ùíÇùíöùë∑ùíÇùíç = select, üêº Mainland, üá≠üá∞Hong Kong, üá∫üá∏United States
üõí ùë®ùíéùíÇùíõùíêùíè = select, üêº Mainland, üáØüáµJapan, üá∫üá∏United States,üêº Mainland
‚úâÔ∏è ùëªùíÜùíçùíÜùíàùíìùíÇùíé = select, ùêÄùêÆùê≠ùê®ùê¶ùêöùê≠ùê¢ùêú, üá∏üá¨Singapore, üá∫üá∏United States
üé¨ ùëªùíäùíåùëªùíêùíå = select, üá®üá≥Taiwan, üá∏üá¨Singapore, üáØüáµJapan, üá∫üá∏United States
üîç ùêÄùêà = select, üá®üá≥Taiwan, üá∏üá¨Singapore, üáØüáµJapan, üá∫üá∏United States
üïäÔ∏è ùëªùíòùíäùíïùíïùíÜùíì = select, ùêÄùêÆùê≠ùê®ùê¶ùêöùê≠ùê¢ùêú, üá≠üá∞Hong Kong, üá®üá≥Taiwan, üá∏üá¨Singapore, üáØüáµJapan, üá∫üá∏United States
üîß ùôãùôèùôßùôñùôòùô†ùôöùôß = select, üêº Mainland, üá≠üá∞Hong Kong


[Rule]
# ban UDP on Youtube
# AND,((PROTOCOL,UDP), (DOMAIN-SUFFIX,googlevideo.com)),REJECT-NO-DROP

# > Direct(Google|Proxy|Download|Spotify)
RULE-SET,https://raw.tuu.cat/bunizao/TutuBetterRules/tutu/RuleList/DOMAlN/Direct.list,DIRECT

# > Mail
RULE-SET,https://raw.tuu.cat/bunizao/TutuBetterRules/tutu/RuleList/DOMAlN/Mail.list,ùíèùíïùëπùëπùëπ

# ------Rulesets (ËßÑÂàôÈõÜÔºâ------

# > Whitelist
RULE-SET,https://raw.tuu.cat/bunizao/TutuBetterRules/tutu/RuleList/DOMAlN/Whitelist_Proxy.list,ùêèùê´ùê®ùê±ùê≤

# Anti-AD
RULE-SET,https://ruleset.isagood.day/reject.conf,REJECT
DOMAIN-SET,https://ruleset.isagood.day/reject_tinygif.conf,REJECT-TINYGIF
RULE-SET,https://ruleset.isagood.day/reject_drop.conf,REJECT-DROP

# > Stream Media
RULE-SET,https://raw.tuu.cat/blackmatrix7/ios_rule_script/master/rule/Surge/BiliBili/BiliBili.list,üì∫ ùíÉùíäùíçùíäùíÉùíäùíçùíä
RULE-SET,https://raw.tuu.cat/blackmatrix7/ios_rule_script/master/rule/Surge/Disney/Disney.list,üé• ùë¥ùíÜùíÖùíäùíÇ
RULE-SET,https://raw.tuu.cat/blackmatrix7/ios_rule_script/master/rule/Surge/Netflix/Netflix.list,üé• ùë¥ùíÜùíÖùíäùíÇ
RULE-SET,https://raw.tuu.cat/blackmatrix7/ios_rule_script/master/rule/Surge/AbemaTV/AbemaTV.list,üáØüáµJapan //AbemaTV
RULE-SET,https://raw.tuu.cat/blackmatrix7/ios_rule_script/master/rule/Surge/Peacock/Peacock.list,üá∫üá∏United States //Peacock
RULE-SET,https://raw.tuu.cat/blackmatrix7/ios_rule_script/master/rule/Surge/HBOUSA/HBOUSA.list,üá∫üá∏United States // HBO NOW && HBO MAX

# > Amazon: 
RULE-SET,https://raw.tuu.cat/blackmatrix7/ios_rule_script/master/rule/Surge/Amazon/Amazon.list,üõí ùë®ùíéùíÇùíõùíêùíè
# > PayPal: 
RULE-SET,https://raw.tuu.cat/DivineEngine/Profiles/master/Surge/Ruleset/Extra/PayPal.list,üíµ ùë∑ùíÇùíöùë∑ùíÇùíç
# >Telegram
RULE-SET,https://raw.tuu.cat/bunizao/TutuBetterRules/tutu/RuleList/DOMAlN/Telegram.list,‚úâÔ∏è ùëªùíÜùíçùíÜùíàùíìùíÇùíé
# > TikTok
RULE-SET,https://raw.tuu.cat/Semporia/TikTok-Unlock/master/Surge/TikTok.list,üé¨ ùëªùíäùíåùëªùíêùíå
# > ChatGPT
RULE-SET,https://raw.tuu.cat/bunizao/TutuBetterRules/tutu/RuleList/DOMAlN/OpenAI.list,üîç ùêÄùêà
# > Copilot
RULE-SET,https://raw.tuu.cat/blackmatrix7/ios_rule_script/master/rule/Surge/Copilot/Copilot.list,üîç ùêÄùêà
# > Gemini
RULE-SET,https://ruleset.isagood.day/gemini.conf,üîç ùêÄùêà
# > Twitter
RULE-SET,https://raw.tuu.cat/blackmatrix7/ios_rule_script/master/rule/Surge/Twitter/Twitter.list,üïäÔ∏è ùëªùíòùíäùíïùíïùíÜùíì
# > Youtube & Google Search
RULE-SET,https://raw.tuu.cat/blackmatrix7/ios_rule_script/master/rule/Surge/YouTube/YouTube.list,üìπ ùíÄùíêùíñùëªùíñùíÉùíÜ
RULE-SET,https://raw.tuu.cat/bunizao/TutuBetterRules/tutu/RuleList/DOMAlN/Google_Search.list,üá∫üá∏United States
# > Apple
RULE-SET,https://raw.tuu.cat/bunizao/TutuBetterRules/tutu/RuleList/DOMAlN/Apple_Direct.list,DIRECT
RULE-SET,https://raw.tuu.cat/blackmatrix7/ios_rule_script/master/rule/Clash/AppleNews/AppleNews.list,üá∫üá∏United States
RULE-SET,https://raw.tuu.cat/bunizao/TutuBetterRules/tutu/RuleList/DOMAlN/Apple_Proxy.list,ùêèùê´ùê®ùê±ùê≤
RULE-SET,https://raw.tuu.cat/blackmatrix7/ios_rule_script/master/rule/Surge/Apple/Apple.list,Ô£ø ùë®ùíëùíëùíçùíÜ
# > PTracker
RULE-SET,https://r.am.sb/PTracker.conf,üîß ùôãùôèùôßùôñùôòùô†ùôöùôß
# > Emby
RULE-SET,https://raw.tuu.cat/Cypic/Proxy/main/rule/Surge/emby.list,üìπ ùôÄùô¢ùôóùôÆ
# > Global
RULE-SET,https://raw.tuu.cat/bunizao/TutuBetterRules/tutu/RuleList/DOMAlN/Global.list,ùêèùê´ùê®ùê±ùê≤
# > China
RULE-SET,https://raw.tuu.cat/DivineEngine/Profiles/master/Surge/Ruleset/China.list,DIRECT
# > Local Area Network Â±ÄÂüüÁΩë
IP-CIDR,192.168.0.0/16,DIRECT
IP-CIDR,10.0.0.0/8,DIRECT
IP-CIDR,172.16.0.0/12,DIRECT
IP-CIDR,127.0.0.0/8,DIRECT
IP-CIDR,100.64.0.0/10,DIRECT
IP-CIDR,224.0.0.0/4,DIRECT
RULE-SET,LAN,DIRECT
# > ASN China
RULE-SET,https://raw.tuu.cat/VirgilClyne/GetSomeFries/main/ruleset/ASN.China.list,DIRECT
# > GeoIP China(Ëã•ÂêØÁî®ÔºåÂàôÈúÄÁ¶ÅÁî® ASN)
# GEOIP,CN,DIRECT
# > DNS Êü•ËØ¢Â§±Ë¥•Ëµ∞ Final ËßÑÂàô
FINAL,üè≥Ô∏è‚Äç‚ößÔ∏è,dns-failed


[Host]

[URL Rewrite]

[Script]
Sub-Store Core=type=http-request,pattern=^https?:\/\/sub\.store\/((download)|api\/(preview|sync|(utils\/node-info))),script-path=https://github.com/sub-store-org/Sub-Store/releases/latest/download/sub-store-1.min.js,requires-body=true,timeout=120
Sub-Store Simple=type=http-request,pattern=^https?:\/\/sub\.store,script-path=https://github.com/sub-store-org/Sub-Store/releases/latest/download/sub-store-0.min.js,requires-body=true
Sub-Store Sync=type=cron,cronexp=0 0 * * *,wake-system=1,timeout=120,script-path=https://github.com/sub-store-org/Sub-Store/releases/latest/download/cron-sync-artifacts.min.jsSub-Store Sync=type=cron,cronexp=0 0 * * *,wake-system=1,timeout=120,script-path=https://github.com/sub-store-org/Sub-Store/releases/latest/download/cron-sync-artifacts.min.js
Rewrite: BoxJs = type=http-request,pattern=https?:\/\/boxjs\.(com|net),script-path=raw.githubusercontent.com/chavyleung/scripts/master/box/chavy.boxjs.js, requires-body=true, timeout=120

[MITM]
hostname = sub.store, boxjs.com, boxjs.net
skip-server-cert-verify = true
tcp-connection = true
h2 = true