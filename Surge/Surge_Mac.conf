[General]
http-listen = 0.0.0.0:6152
socks5-listen = 0.0.0.0:6153
external-controller-access = Cypic@0.0.0.0:6170

# General
skip-proxy = 127.0.0.0/8, 192.168.0.0/16, 10.0.0.0/8, 172.16.0.0/12, 100.64.0.0/10, 162.14.0.0/16, 211.99.96.0/19, 162.159.192.0/24, 162.159.193.0/24, 162.159.195.0/24, fc00::/7, fe80::/10, localhost, *.local, captive.apple.com, passenger.t3go.cn, *.ccb.com, wxh.wo.cn, *.abcchina.com, *.abcchina.com.cn
exclude-simple-hostnames = true

# DNS
hijack-dns = *:53
dns-server = 119.29.29.29, 223.5.5.5, system
read-etc-hosts = true
doh-skip-cert-verification = true
encrypted-dns-server = quic://223.5.5.5, quic://223.6.6.6, https://1.12.12.12/dns-query, https://120.53.53.53/dns-query
encrypted-dns-follow-outbound-mode = true

# Lateracy
internet-test-url = http://wifi.vivo.com.cn/generate_204
proxy-test-url = http://cp.cloudflare.com/generate_204
proxy-test-udp = www.apple.com@64.6.64.6
test-timeout = 3
ipv6 = true
ipv6-vif = auto
show-error-page-for-reject = true

udp-policy-not-supported-behaviour = REJECT

[Proxy Group]
# > è¿™æ˜¯ä¸€ä¸ªfinalè§„åˆ™ æ²¡æœ‰å‘½ä¸­çš„è¿æ¥ä¼šèµ°ä»¥ä¸‹çš„ç­–ç•¥ç»„
ğŸ³ï¸â€âš§ï¸ = select, ğŸ¼ Mainland, ğğ«ğ¨ğ±ğ², ğ’ğ’•ğ‘¹ğ‘¹ğ‘¹
ğ’ğ’•ğ‘¹ğ‘¹ğ‘¹ = select,ğŸ¼ Mainland
ğ•Šğ•ªğ•Ÿ = select, policy-path=sublink
ğ•ğ•¥ğ• ğ•  = select, policy-path=sublink

# > ä»¥ä¸‹æ˜¯ç­–ç•¥ç»„ éœ€å…ˆé…ç½®å¥½sub-storeä½¿ç”¨
ğğ«ğ¨ğ±ğ² = select, ğŸ‡­ğŸ‡°Hong Kong, ğŸ‡¨ğŸ‡³Taiwan, ğŸ‡¸ğŸ‡¬Singapore, ğŸ‡¯ğŸ‡µJapan, ğŸ‡ºğŸ‡¸United States, no-alert=0, hidden=1, include-all-proxies=0
ğŸ‡­ğŸ‡°Hong Kong = smart, policy-path=https://sub.store/download/collection/Surge, policy-regex-filter=æ¸¯|ğŸ‡­ğŸ‡°|é¦™æ¸¯|HK|Hong, interval=600, tolerance=50,update-interval=43200, no-alert=0, hidden=0, include-all-proxies=0
ğŸ‡¨ğŸ‡³Taiwan = smart, policy-path=https://sub.store/download/collection/Surge, policy-regex-filter=å°|ğŸ‡¨ğŸ‡³|å°æ¹¾|TW|Tai, interval=600, tolerance=50,update-interval=43200, no-alert=0, hidden=0, include-all-proxies=0
ğŸ‡¯ğŸ‡µJapan = smart, policy-path=https://sub.store/download/collection/Surge, policy-regex-filter=æ—¥|ğŸ‡¯ğŸ‡µ|æ—¥æœ¬|JP|Japan, interval=600, tolerance=50,update-interval=43200, no-alert=0, hidden=0, include-all-proxies=0
ğŸ‡¸ğŸ‡¬Singapore = smart, policy-path=https://sub.store/download/collection/Surge, policy-regex-filter=å¡|ğŸ‡¸ğŸ‡¬|æ–°åŠ å¡|ç‹®åŸ|SG|Singapore, interval=600, tolerance=50,update-interval=43200, no-alert=0, hidden=0, include-all-proxies=0
ğŸ‡ºğŸ‡¸United States = select, policy-path=https://sub.store/download/collection/Surge, policy-regex-filter=ç¾|ğŸ‡ºğŸ‡¸|ç¾å›½|US|States|American, interval=600, tolerance=50,update-interval=43200, no-alert=0, hidden=0, include-all-proxies=0
ğŸŒ Else = select, policy-path=https://sub.store/download/collection/Surge, interval=600, tolerance=50,update-interval=43200, no-alert=0, hidden=0, include-all-proxies=0
ğŸ¼ Mainland = select, DIRECT, hidden=1
ğ‘¨ğ’‘ğ’‘ğ’ğ’† ğ‘´ğ’Šğ’„ğ’“ğ’ğ’”ğ’ğ’‡ğ’• = select, ğŸ¼ Mainland, ğŸ‡­ğŸ‡°Hong Kong, ğŸ‡¨ğŸ‡³Taiwan, ğŸ‡¸ğŸ‡¬Singapore, ğŸ‡¯ğŸ‡µJapan, ğŸ‡ºğŸ‡¸United States
ğŸ“¹ ğ™€ğ™¢ğ™—ğ™® = select, ğŸ¼ Mainland, ğŸ‡­ğŸ‡°Hong Kong
ğŸ¥ ğ‘´ğ’†ğ’…ğ’Šğ’‚ = select, ğŸ‡­ğŸ‡°Hong Kong, ğŸ‡¨ğŸ‡³Taiwan, ğŸ‡¸ğŸ‡¬Singapore, ğŸ‡¯ğŸ‡µJapan, ğŸ‡ºğŸ‡¸United States
ğŸ’µ ğ‘·ğ’‚ğ’šğ‘·ğ’‚ğ’ = select, ğŸ¼ Mainland, ğŸ‡­ğŸ‡°Hong Kong, ğŸ‡ºğŸ‡¸United States
ğŸ›’ ğ‘¨ğ’ğ’‚ğ’›ğ’ğ’ = select, ğŸ¼ Mainland, ğŸ‡¯ğŸ‡µJapan, ğŸ‡ºğŸ‡¸United States,ğŸ¼ Mainland
âœ‰ï¸ ğ‘»ğ’†ğ’ğ’†ğ’ˆğ’“ğ’‚ğ’ = select, ğŸ‡¸ğŸ‡¬Singapore, ğŸ‡ºğŸ‡¸United States
ğŸ¬ ğ‘»ğ’Šğ’Œğ‘»ğ’ğ’Œ = select, ğŸ‡¨ğŸ‡³Taiwan, ğŸ‡¸ğŸ‡¬Singapore, ğŸ‡¯ğŸ‡µJapan, ğŸ‡ºğŸ‡¸United States
ğŸ” ğ€ğˆ = select, ğŸ‡¨ğŸ‡³Taiwan, ğŸ‡¸ğŸ‡¬Singapore, ğŸ‡¯ğŸ‡µJapan, ğŸ‡ºğŸ‡¸United States
ğŸ•Šï¸ ğ‘»ğ’˜ğ’Šğ’•ğ’•ğ’†ğ’“ = select, ğŸ‡­ğŸ‡°Hong Kong, ğŸ‡¨ğŸ‡³Taiwan, ğŸ‡¸ğŸ‡¬Singapore, ğŸ‡¯ğŸ‡µJapan, ğŸ‡ºğŸ‡¸United States
ğŸ”§ ğ™‹ğ™ğ™§ğ™–ğ™˜ğ™ ğ™šğ™§ = select, ğŸ¼ Mainland, ğŸ‡­ğŸ‡°Hong Kong

[Rule]
# Anti-AD
DOMAIN-SET,https://ruleset.skk.moe/List/domainset/reject.conf,REJECT
RULE-SET,https://ruleset.skk.moe/List/non_ip/reject.conf,REJECT,extended-matching

RULE-SET,https://ruleset.skk.moe/List/non_ip/reject-no-drop.conf,REJECT-NO-DROP,extended-matching
RULE-SET,https://ruleset.skk.moe/List/non_ip/reject-drop.conf,REJECT-DROP,extended-matching

# Speedtest
DOMAIN-SET,https://ruleset.skk.moe/List/domainset/speedtest.conf,ğğ«ğ¨ğ±ğ²,extended-matching

# CDN
DOMAIN-SET,https://ruleset.skk.moe/List/domainset/cdn.conf,ğ’ğ’•ğ‘¹ğ‘¹ğ‘¹,extended-matching
RULE-SET,https://ruleset.skk.moe/List/non_ip/cdn.conf,ğ’ğ’•ğ‘¹ğ‘¹ğ‘¹,extended-matching

# Streem
RULE-SET,https://ruleset.skk.moe/List/non_ip/stream_hk.conf,ğŸ‡­ğŸ‡°Hong Kong,extended-matching
RULE-SET,https://ruleset.skk.moe/List/non_ip/stream_jp.conf,ğŸ‡¯ğŸ‡µJapan,extended-matching
RULE-SET,https://ruleset.skk.moe/List/non_ip/stream_us.conf,ğŸ‡ºğŸ‡¸United States,extended-matching
RULE-SET,https://ruleset.skk.moe/List/non_ip/stream_tw.conf,ğŸ‡¨ğŸ‡³Taiwan,extended-matching
#RULE-SET,https://ruleset.skk.moe/List/non_ip/stream_kr.conf,[æ›¿æ¢ä½ çš„ç­–ç•¥å],extended-matching
#RULE-SET,https://ruleset.skk.moe/List/non_ip/stream_eu.conf,[æ›¿æ¢ä½ çš„ç­–ç•¥å],extended-matching
RULE-SET,https://ruleset.skk.moe/List/non_ip/stream.conf,ğŸŒ Else,extended-matching

# Apple or Microsoft cdn
RULE-SET,https://ruleset.skk.moe/List/non_ip/apple_cdn.conf,ğ‘¨ğ’‘ğ’‘ğ’ğ’† ğ‘´ğ’Šğ’„ğ’“ğ’ğ’”ğ’ğ’‡ğ’•
RULE-SET,https://ruleset.skk.moe/List/non_ip/microsoft_cdn.conf,ğ‘¨ğ’‘ğ’‘ğ’ğ’† ğ‘´ğ’Šğ’„ğ’“ğ’ğ’”ğ’ğ’‡ğ’•

# Telegram
RULE-SET,https://ruleset.skk.moe/List/non_ip/telegram.conf,âœ‰ï¸ ğ‘»ğ’†ğ’ğ’†ğ’ˆğ’“ğ’‚ğ’,extended-matching

# Globle-CDN
DOMAIN-SET,https://ruleset.skk.moe/List/domainset/download.conf,ğ’ğ’•ğ‘¹ğ‘¹ğ‘¹,extended-matching
RULE-SET,https://ruleset.skk.moe/List/non_ip/download.conf,ğ’ğ’•ğ‘¹ğ‘¹ğ‘¹,extended-matching

# Mail
RULE-SET,https://raw.gitmirror.com/bunizao/TutuBetterRules/tutu/RuleList/DOMAlN/Mail.list,ğ’ğ’•ğ‘¹ğ‘¹ğ‘¹

# 1Password
RULE-SET,https://gitlab.com/lodepuly/vpn_tool/-/raw/master/Tool/Loon/Rule/1PasswordUS.list,ğŸ‡ºğŸ‡¸United States
# Amazon:
RULE-SET,https://raw.gitmirror.com/blackmatrix7/ios_rule_script/master/rule/Surge/Amazon/Amazon.list,ğŸ›’ ğ‘¨ğ’ğ’‚ğ’›ğ’ğ’
# PayPal:
RULE-SET,https://raw.gitmirror.com/DivineEngine/Profiles/master/Surge/Ruleset/Extra/PayPal.list,ğŸ’µ ğ‘·ğ’‚ğ’šğ‘·ğ’‚ğ’

# TikTok
RULE-SET,https://raw.gitmirror.com/Semporia/TikTok-Unlock/master/Surge/TikTok.list,ğŸ¬ ğ‘»ğ’Šğ’Œğ‘»ğ’ğ’Œ

# Twitter
RULE-SET,https://raw.gitmirror.com/blackmatrix7/ios_rule_script/master/rule/Surge/Twitter/Twitter.list,ğŸ•Šï¸ ğ‘»ğ’˜ğ’Šğ’•ğ’•ğ’†ğ’“

# Apple cn
RULE-SET,https://ruleset.skk.moe/List/non_ip/apple_cn.conf,DIRECT

# PTracker
RULE-SET,https://r.am.sb/PTracker.conf,ğŸ”§ ğ™‹ğ™ğ™§ğ™–ğ™˜ğ™ ğ™šğ™§
# Emby
RULE-SET,https://raw.gitmirror.com/Cypic/Proxy/main/rule/Surge/emby.list,ğŸ“¹ ğ™€ğ™¢ğ™—ğ™®

# Else Apple or Microsoft
RULE-SET,https://ruleset.skk.moe/List/non_ip/apple_services.conf,ğ’ğ’•ğ‘¹ğ‘¹ğ‘¹,extended-matching
RULE-SET,https://ruleset.skk.moe/List/non_ip/microsoft.conf,ğ’ğ’•ğ‘¹ğ‘¹ğ‘¹,extended-matching

# Aigc
RULE-SET,https://ruleset.skk.moe/List/non_ip/ai.conf,ğŸ” ğ€ğˆ,extended-matching

# Globle Must Proxy
RULE-SET,https://ruleset.skk.moe/List/non_ip/global.conf,ğğ«ğ¨ğ±ğ²,extended-matching

# Cn Direct
RULE-SET,https://ruleset.skk.moe/List/non_ip/domestic.conf,DIRECT,extended-matching
RULE-SET,https://ruleset.skk.moe/List/non_ip/lan.conf,DIRECT

# IP

# Reject
RULE-SET,https://ruleset.skk.moe/List/ip/reject.conf,REJECT-DROP

# Tel 
RULE-SET,https://ruleset.skk.moe/List/ip/telegram.conf,âœ‰ï¸ ğ‘»ğ’†ğ’ğ’†ğ’ˆğ’“ğ’‚ğ’
PROCESS-NAME,Telegram,REJECT-DROP

# Cn
RULE-SET,https://ruleset.skk.moe/List/ip/domestic.conf,DIRECT
RULE-SET,https://ruleset.skk.moe/List/ip/china_ip.conf,DIRECT

# DNS æŸ¥è¯¢å¤±è´¥èµ° Final è§„åˆ™
FINAL,ğŸ³ï¸â€âš§ï¸,dns-failed